/**
 * Jankx Ecommerce
 *
 * @author: Puleeno Nguyen <puleeno@gmail.com>
 * @license https://github.com/jankx/ecommerce/blob/master/license.txt
 */
function render_product_template(e,t){var r="";e.forEach(function(e){r+=tmpl("jankx-ecommerce-product-tpl",e)}),t.innerHTML=r}document.querySelectorAll(".category-tabs-products .tab a").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=e.target.parentElement.parentElement.parentElement,r=e.target.parentElement,a=t.querySelector(".jankx-tab-content .products");if(void 0!==a){var n;(n=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")).open("POST",jankx_ecommerce.get_product_url,!1);var o=new FormData;if(tab_type=r.attributes["data-tab-type"],tab_type&&o.append("tab_type",tab_type.nodeValue),(r=r.attributes["data-tab"])&&o.append("tab",r.nodeValue),n.send(o),4==n.readyState&&200==n.status){if(n.responseJSON=JSON.parse(n.responseText),!n.responseJSON.success)return void(a.parentElement.innerHTML=jankx_ecommerce.errors.parse_data_error);render_product_template(n.responseJSON.products,a)}else a.parentElement.innerHTML=jankx_ecommerce.errors.get_data_error}})});